---
title: "Webhooks"
description: "Learn how to set up and configure webhooks to receive real-time payment notifications from EximPe. This guide covers webhook setup, testing, and best practices for integration."
---

---

## ğŸ¯ What are Webhooks?

Webhooks are **real-time server-to-server (S2S) notifications** that EximPe sends to your backend when important events occur. Unlike browser redirects that can be interrupted, webhooks ensure reliable delivery of payment status updates directly to your server.

### Why Use Webhooks?

- âœ… **Reliable Delivery** - Notifications sent directly to your server
- âœ… **Real-time Updates** - Instant notification of payment events
- âœ… **No User Dependency** - Works even if customer closes the browser
- âœ… **Secure Communication** - Encrypted and signed for authenticity
- âœ… **Automatic Retries** - EximPe retries failed deliveries

---

## ğŸ“‹ Supported Events

EximPe sends webhooks for these key events:

| **Event** | **When Triggered** | **Use Case** |
|-----------|-------------------|--------------|
| **Payment Successful** | Customer completes payment | Update order status, send confirmation |
| **Payment Failed** | Payment attempt fails | Retry payment, notify customer |
| **Payment Refunded** | Refund is processed | Update inventory, notify customer |
| **Merchant Approved** | Merchant account activated | Enable payment collection |
| **Settlement Completed** | Funds transferred to merchant | Update accounting records |

---

## ğŸ› ï¸ Setup Guide

### Step 1: Prepare Your Endpoint

Ensure your server has:
- **Public HTTPS URL** accessible from the internet
- **POST endpoint** that can receive webhook data
- **200 OK response** capability
- **Support for** `application/x-www-form-urlencoded` and `multipart/form-data`

### Step 2: Configure Webhook URL

#### Option A: Dashboard Configuration (Recommended)
1. Log into your **EximPe Dashboard**
2. Navigate to **Developer Section**
3. Enter your webhook URL
4. Save configuration

#### Option B: Manual Setup
1. Contact EximPe Support with your webhook URL
2. Provide your server's IP address
3. EximPe will whitelist your endpoint
4. You'll receive EximPe's IP range for firewall configuration

### Step 3: Test Your Integration

1. **Log all incoming requests** on your server
2. **Make a test payment** in sandbox environment
3. **Verify webhook receipt** and processing
4. **Check response codes** (must return 200 OK)

---

## ğŸ” Security & Verification

### Signature Verification

EximPe signs each webhook with an HMAC signature to ensure authenticity:

1. **Get your encryption key** from the Developer Dashboard
2. **Extract message parts** from the webhook payload
3. **Generate HMAC signature** using SHA-256
4. **Compare signatures** to verify authenticity

<Warning>
**Security Best Practices:**
- ğŸ” Never expose your encryption key publicly
- ğŸ“ Always verify webhook signatures
- ğŸ›¡ï¸ Use HTTPS endpoints only
- ğŸ“Š Log webhook events for audit trails
</Warning>

---

## ğŸ“Š Business Logic Examples

### Payment Successful Handler

```javascript
// Example: Update order status when payment succeeds
if (event_type === 'PAYMENT_SUCCESSFUL') {
    const { order_id, amount, buyer } = data;
    
    // Update order status to "paid"
    await updateOrderStatus(order_id, 'paid');
    
    // Send confirmation email
    await sendConfirmationEmail(buyer.email, order_id);
    
    // Update inventory
    await updateInventory(order_id);
}
```

### Payment Failed Handler

```javascript
// Example: Handle failed payments
if (event_type === 'PAYMENT_FAILED') {
    const { order_id, comment, buyer } = data;
    
    // Log failure reason
    console.log(`Payment failed for order ${order_id}: ${comment}`);
    
    // Send retry notification
    await sendRetryNotification(buyer.email, order_id);
    
    // Update order status
    await updateOrderStatus(order_id, 'payment_failed');
}
```

---

## ğŸ§ª Testing & Troubleshooting

### Testing Checklist

- [ ] Webhook URL is accessible via HTTPS
- [ ] Endpoint returns 200 OK response
- [ ] Payload parsing works correctly
- [ ] Signature verification implemented
- [ ] Business logic handles all event types
- [ ] Error handling for malformed data

### Common Issues

| **Issue** | **Solution** |
|-----------|--------------|
| Webhook not received | Check URL accessibility and firewall settings |
| 500 Server Error | Verify endpoint returns 200 OK |
| Signature mismatch | Check encryption key and verification logic |
| Payload parsing error | Validate JSON structure and required fields |

### Testing Tools

- **EximPe Sandbox** - Test payments and webhooks
- **Webhook Testing Services** - Validate endpoint setup
- **Log Monitoring** - Track webhook delivery and processing

---

## ğŸ“ Support

For webhook setup assistance:
- **Email**: [engineering@eximpe.com](mailto:engineering@eximpe.com)
- **Dashboard**: Use the support chat in your EximPe dashboard
- **Documentation**: Check the [API Reference](/api-reference/webhooks) for technical details

---

<Note>
**Next Steps:**
- Review the [API Reference](/api-reference/webhooks) for detailed webhook payload specifications
- Test your webhook integration in the sandbox environment
- Monitor webhook delivery in your EximPe dashboard
</Note>
