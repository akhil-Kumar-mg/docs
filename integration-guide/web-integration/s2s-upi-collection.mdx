---
title: "Server-to-Server UPI Collection Integration"
description: "Enable UPI collect flows via EximPe’s server-to-server API with minimal redirection"
---

<Note>
  The Server-to-Server (S2S) UPI Collection integration eliminates redirection hops by validating the VPA and initiating transactions directly from your backend. Deliver a seamless, secure checkout experience for your customers.
</Note>

<CardGroup cols={4}>
  <Card title="Validate VPA" icon="user-check" href="#step-1-validate-vpa">
    Ensure the customer’s VPA is valid before proceeding
  </Card>
  <Card title="Initiate Payment" icon="credit-card" href="#step-2-initiate-payment">
    Create a UPI collect transaction via server-to-server API
  </Card>
  <Card title="Check Status" icon="clock" href="#step-3-check-transaction-status">
    Poll the Verify Payment API for real-time updates
  </Card>
  <Card title="Server Callback" icon="server" href="#step-4-server-to-server-callback-response">
    Receive asynchronous status updates via webhook
  </Card>
</CardGroup>

## Prerequisites

Before you begin, ensure you have:

- **Merchant Key & Salt**: Your EximPe merchant key and salt for hash generation.
- **Callback URL**: A publicly accessible endpoint configured in your EximPe dashboard for S2S callbacks.
- **HTTP Client**: Ability to perform HTTPS `GET` and `POST` requests from your server.
- **JSON & Hashing**: Familiarity with JSON request bodies and SHA-512 hash computation.

## Integration Steps

The integration consists of four steps:

1. **Validate VPA**
2. **Initiate Payment**
3. **Check Transaction Status**
4. **Server-to-Server Callback**

**Process Flow**

![image.png](/images/image.png)

## Step 1: Validate VPA

This web service will let you validate VPA if it is a valid VPA or not.

After the customer enters VPA on your website, you need to call this API to check for VPA validation. If VPA is valid, you need to proceed with the next step. For a sample request or response, refer to [Validate VPA](https://docs.payu.in/reference/validate_vpa_api).

Collect the response in the [UPI Collection](https://docs.payu.in/docs/_payment_s2s_upi_collection) under API Reference. The response for the S2S payment request is not similar to Merchant Hosted or PayU Hosted Checkout. For description of response parameters, refer to [Additional Info for Payment APIs](https://docs.payu.in/reference/addl_info-payment-apis#response-for-initial-server-to-server-request).

 

## Step 2: Initiate the payment to EximPe

To start with, the request is raised from the Merchant to PayU with the required transaction mandatory/optional parameters. This needs to be a server-to-server curl call request

## Step 3: Check UPI transaction status

Check the UPI transaction status using the **Verify Order API** API. For more information, refer to **<u>Verify Order API</u>**

## Step 4: Check the S2S callback response

The response to this call would be a base64 encoded JSON containing transaction ID and other transaction details. You can check the Payment Verification webhook for details.