---
title: "PAYMENT_SUCCESSFUL Webhook"
description: "Technical reference for the PAYMENT_SUCCESSFUL webhook event, including payload schema, field specifications, and implementation details."
---

---

## üìã Event Overview

**Event Type**: `PAYMENT_SUCCESSFUL`  
**Category**: Payment  
**Description**: Payment transaction was successful

This webhook is triggered when a customer successfully completes a payment transaction through EximPe.

---

## üìä Payload Schema

```json
{
    "event_type": "PAYMENT_SUCCESSFUL",
    "event_time": "2024-02-15 16:53:15",
    "version": "1.0",
    "data": {
        "id": "PR9860790452",
        "merchant": {
            "id": "6889114728",
            "name": "Herring Lt"
        },
        "reference_id": "TEST_S5DL8G",
        "buyer": {
            "name": "John Doe",
            "email": "john.doe@example.com",
            "phone": "+919876543210"
        },
        "order_id": "OD1418501900",
        "amount": {
            "amount": 1000.0,
            "total_amount": 1000.0,
            "currency": "INR"
        },
        "created_at": "2025-06-23T15:33:17.372325Z",
        "status": "CAPTURED",
        "comment": "Invoice and AWB file missing",
        "preferred_method": "UPI",
        "mop_type": "UPI",
        "settlement_status": "READY_FOR_SETTLEMENT"
    }
}
```

---

## üîç Field Specifications

### Root Level Fields

| **Field** | **Type** | **Required** | **Description** |
|-----------|----------|--------------|-----------------|
| `event_type` | `string` | ‚úÖ | Always `"PAYMENT_SUCCESSFUL"` |
| `event_time` | `string` | ‚úÖ | Timestamp when the event occurred (YYYY-MM-DD HH:MM:SS format) |
| `version` | `string` | ‚úÖ | Webhook payload version (currently "1.0") |
| `data` | `object` | ‚úÖ | Event-specific data payload |

### Data Object Fields

| **Field** | **Type** | **Required** | **Description** |
|-----------|----------|--------------|-----------------|
| `id` | `string` | ‚úÖ | Payment request ID |
| `merchant.id` | `string` | ‚úÖ | Merchant ID |
| `merchant.name` | `string` | ‚úÖ | Merchant name |
| `reference_id` | `string` | ‚úÖ | Reference ID for the payment |
| `buyer.name` | `string` | ‚úÖ | Buyer's name |
| `buyer.email` | `string` | ‚úÖ | Buyer's email |
| `buyer.phone` | `string` | ‚úÖ | Buyer's phone number |
| `order_id` | `string` | ‚úÖ | Order ID |
| `amount.amount` | `number` | ‚úÖ | Payment amount |
| `amount.total_amount` | `number` | ‚úÖ | Total amount including fees |
| `amount.currency` | `string` | ‚úÖ | Currency code |
| `created_at` | `string` | ‚úÖ | ISO 8601 creation timestamp |
| `status` | `string` | ‚úÖ | Payment status (CAPTURED) |
| `comment` | `string` | ‚úÖ | Additional comment or note |
| `preferred_method` | `string` | ‚úÖ | Preferred payment method |
| `mop_type` | `string` | ‚úÖ | Method of payment type |
| `settlement_status` | `string` | ‚úÖ | Current settlement status |

---

## üõ†Ô∏è Implementation Examples

### JavaScript/Node.js

```javascript
app.post('/webhook', (req, res) => {
    const { event_type, data } = req.body;
    
    if (event_type === 'PAYMENT_SUCCESSFUL') {
        const {
            id,
            merchant,
            reference_id,
            buyer,
            order_id,
            amount,
            created_at,
            status,
            comment,
            preferred_method,
            mop_type,
            settlement_status
        } = data;
        
        // Handle successful payment
        console.log(`Payment ${id} successful for order ${order_id}`);
        console.log(`Amount: ${amount.currency} ${amount.amount}`);
        console.log(`Buyer: ${buyer.name} (${buyer.email})`);
        
        // Update order status
        await updateOrderStatus(order_id, 'paid');
        
        // Send confirmation email
        await sendConfirmationEmail(buyer.email, order_id, amount);
        
        // Update inventory
        await updateInventory(order_id);
        
        // Log payment
        await logPayment({
            payment_id: id,
            order_id,
            amount: amount.amount,
            currency: amount.currency,
            method: mop_type,
            buyer_email: buyer.email
        });
    }
    
    res.status(200).send('OK');
});
```

### Python

```python
@app.route('/webhook', methods=['POST'])
def webhook_handler():
    data = request.get_json()
    event_type = data.get('event_type')
    
    if event_type == 'PAYMENT_SUCCESSFUL':
        webhook_data = data.get('data')
        
        payment_id = webhook_data.get('id')
        order_id = webhook_data.get('order_id')
        buyer = webhook_data.get('buyer')
        amount = webhook_data.get('amount')
        merchant = webhook_data.get('merchant')
        
        # Handle successful payment
        print(f"Payment {payment_id} successful for order {order_id}")
        print(f"Amount: {amount['currency']} {amount['amount']}")
        print(f"Buyer: {buyer['name']} ({buyer['email']})")
        
        # Update order status
        update_order_status(order_id, 'paid')
        
        # Send confirmation email
        send_confirmation_email(buyer['email'], order_id, amount)
        
        # Update inventory
        update_inventory(order_id)
        
        # Log payment
        log_payment({
            'payment_id': payment_id,
            'order_id': order_id,
            'amount': amount['amount'],
            'currency': amount['currency'],
            'method': webhook_data.get('mop_type'),
            'buyer_email': buyer['email']
        })
    
    return jsonify({'status': 'OK'}), 200
```

### PHP

```php
<?php
$webhook_data = json_decode(file_get_contents('php://input'), true);
$event_type = $webhook_data['event_type'];

if ($event_type === 'PAYMENT_SUCCESSFUL') {
    $data = $webhook_data['data'];
    
    $payment_id = $data['id'];
    $order_id = $data['order_id'];
    $buyer = $data['buyer'];
    $amount = $data['amount'];
    $merchant = $data['merchant'];
    
    // Handle successful payment
    error_log("Payment {$payment_id} successful for order {$order_id}");
    error_log("Amount: {$amount['currency']} {$amount['amount']}");
    error_log("Buyer: {$buyer['name']} ({$buyer['email']})");
    
    // Update order status
    updateOrderStatus($order_id, 'paid');
    
    // Send confirmation email
    sendConfirmationEmail($buyer['email'], $order_id, $amount);
    
    // Update inventory
    updateInventory($order_id);
    
    // Log payment
    logPayment([
        'payment_id' => $payment_id,
        'order_id' => $order_id,
        'amount' => $amount['amount'],
        'currency' => $amount['currency'],
        'method' => $data['mop_type'],
        'buyer_email' => $buyer['email']
    ]);
}

http_response_code(200);
echo json_encode(['status' => 'OK']);
?>
```

---

## üìã Business Logic Recommendations

When you receive this webhook, consider implementing the following:

### 1. Verify Payment Status
```javascript
// Ensure payment is actually successful
if (status !== 'CAPTURED') {
    console.error(`Unexpected payment status: ${status}`);
    return;
}
```

### 2. Update Order Status
```javascript
// Update order status to paid
await updateOrderStatus(order_id, 'paid');
await updateOrderPaymentInfo(order_id, {
    payment_id: id,
    amount: amount.amount,
    currency: amount.currency,
    method: mop_type,
    paid_at: created_at
});
```

### 3. Send Customer Confirmation
```javascript
// Send confirmation email to customer
await sendConfirmationEmail(buyer.email, {
    order_id,
    amount: amount.amount,
    currency: amount.currency,
    buyer_name: buyer.name,
    payment_method: mop_type
});
```

### 4. Update Inventory
```javascript
// Update inventory if applicable
await updateInventoryForOrder(order_id);
await markItemsAsSold(order_id);
```

### 5. Process Settlement
```javascript
// Handle settlement if ready
if (settlement_status === 'READY_FOR_SETTLEMENT') {
    await queueForSettlement(order_id, merchant.id);
}
```

### 6. Log for Analytics
```javascript
// Log payment for analytics and reporting
await logPaymentEvent({
    event: 'payment_successful',
    payment_id: id,
    order_id,
    merchant_id: merchant.id,
    amount: amount.amount,
    currency: amount.currency,
    method: mop_type,
    buyer_email: buyer.email,
    timestamp: created_at
});
```

---

## üìä Status Values

### Payment Status
- `CAPTURED` - Payment successfully captured

### Settlement Status
- `READY_FOR_SETTLEMENT` - Payment ready for settlement
- `SETTLEMENT_PENDING` - Settlement in progress
- `SETTLED` - Settlement completed

### Payment Methods
- `UPI` - Unified Payments Interface
- `CARD` - Credit/Debit Card
- `NETBANKING` - Net Banking
- `WALLET` - Digital Wallet

---

## ‚ö†Ô∏è Important Notes

- **Idempotency**: This webhook may be sent multiple times. Ensure your handling logic is idempotent.
- **Verification**: Always verify the webhook signature before processing.
- **Amount Validation**: Verify the payment amount matches your order amount.
- **Order Validation**: Ensure the order_id exists and belongs to the merchant.
- **Error Handling**: Log any errors and return appropriate HTTP status codes.

---

## üîó Related Documentation

- [Webhooks Overview](/api-reference/webhooks)
- [PAYMENT_FAILED Webhook](/api-reference/webhooks/payment-failed)
- [PAYMENT_REFUNDED Webhook](/api-reference/webhooks/payment-refunded)
- [Signature Verification](/api-reference/webhooks#authentication)

---

For technical support, contact [engineering@eximpe.com](mailto:engineering@eximpe.com). 